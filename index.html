<head>
  <title>Globe</title>
  <style>
    body {
      margin: 0;
    }
    #globe {
      margin-left: 100px;
    }
  </style>
  <script src="https://unpkg.com/globe.gl"></script>
</head>

<body>
<div id="globe"></div>

<script>
  const N = 20;
  const arcsData = [...Array(N).keys()].map(() => ({
    startLat: (Math.random() - 0.5) * 180,
    startLng: (Math.random() - 0.5) * 360,
    endLat: (Math.random() - 0.5) * 180,
    endLng: (Math.random() - 0.5) * 360,
    color: `#${Math.round(Math.random() * Math.pow(2, 24)).toString(16).padStart(6, '0')}`,
  }));

  const targetEl = document.getElementById('globe');
  const backgroundColor = '#0a2540';
  const globeColor = '#0c203f';
  const countriesColor = '#3d72a5';
  const width = 700;
  const height = 700;
  const countriesResolution = 4;
  const countriesGap = 0.5;
  const showAtmosphere = false;
  const atmosphereColor = '#ff0000';

  fetch('https://raw.githubusercontent.com/johan/world.geo.json/master/countries.geo.json').then(res => res.json()).then(countries => {
    const globe = Globe()
            .width(width)
            .height(height)
            .backgroundColor(backgroundColor)
            .showAtmosphere(showAtmosphere)
            .atmosphereColor(atmosphereColor)
            .arcsData(arcsData)
            .arcColor('color')
            .arcDashLength(() => Math.random())
            .arcDashGap(() => Math.random())
            .arcDashAnimateTime(() => Math.random() * 4000 + 500)
            .hexPolygonsData(countries.features)
            .hexPolygonResolution(countriesResolution)
            .hexPolygonMargin(countriesGap)
            .hexPolygonColor(() => countriesColor)
            (targetEl)

    const globeMaterial = globe.globeMaterial();
    globeMaterial.color.set(globeColor);

    const controls = globe.controls();
    controls.autoRotate = true;
    controls.autoRotateSpeed = 2;
    controls.enableZoom = false;
  })
</script>
</body>